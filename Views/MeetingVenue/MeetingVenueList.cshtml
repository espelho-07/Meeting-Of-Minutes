@{
    ViewData["Title"] = "Meeting Venues - MOM";
}

<div class="pagetitle mb-4">
    <h1>Meeting Venues</h1>
    <p class="text-muted">Manage meeting rooms and virtual meeting locations</p>
</div>

<div class="d-flex justify-content-between align-items-center mb-4 flex-wrap gap-3">

    <div class="search-pill">
        <i class="bi bi-search text-muted"></i>
        <input type="text" id="venueSearch" class="search-input" placeholder="Search venues..." />
    </div>

    <div class="d-flex gap-2">
        <a asp-action="VenueAddEdit" class="btn btn-primary rounded-pill px-4" style="background:#5a52e0; border:none;">
            <i class="bi bi-plus-circle me-1"></i> Add Venue
        </a>

        <button class="btn btn-success rounded-pill px-4">
            <i class="bi bi-file-earmark-excel me-1"></i> Export
        </button>

        <a asp-controller="DashBoard" asp-action="DashBoard" class="btn btn-light rounded-pill px-4">
            <i class="bi bi-x-circle me-1"></i> Cancel
        </a>
    </div>
</div>

<div class="row g-4" id="venueContainer">

    @{
        var venues = new[] {
        new {Id=6, Name="Auditorium", Total=2, Upcoming=0},
        new {Id=5, Name="Board Room", Total=3, Upcoming=0},
        new {Id=7, Name="Cafeteria", Total=0, Upcoming=0},
        new {Id=1, Name="Conference Room A", Total=1, Upcoming=0},
        new {Id=2, Name="Conference Room B", Total=2, Upcoming=1},
        new {Id=10, Name="Outdoor Garden", Total=0, Upcoming=0}
        };
    }

    @foreach (var v in venues)
    {
        <div class="col-lg-4 col-md-6 venue-item">
            <div class="venue-card-wrap">
                <div class="custom-card">

                    <div class="card-header-gradient">
                        <div class="d-flex justify-content-between align-items-start">
                            <div>
                                <h6 class="venue-title">@v.Name</h6>
                                <span class="venue-id"><i class="bi bi-geo-alt me-1"></i>ID: @v.Id</span>
                            </div>
                            <div class="d-flex gap-1">
                                <a asp-action="VenueAddEdit" asp-route-id="@v.Id" class="btn-icon-soft" title="Edit">
                                    <i class="bi bi-pencil-fill" style="font-size: 0.8rem;"></i>
                                </a>
                                <a href="#" class="btn-icon-soft" title="Delete">
                                    <i class="bi bi-trash-fill" style="font-size: 0.8rem;"></i>
                                </a>
                            </div>
                        </div>
                    </div>

                    <div class="card-body-custom">

                        <div class="amenities-row">
                            <span class="badge-soft"><i class="bi bi-wifi"></i> WiFi</span>
                            <span class="badge-soft"><i class="bi bi-projector"></i> AV</span>
                        </div>

                        <div class="stats-row">
                            <div>
                                <div class="stat-val text-primary">@v.Total</div>
                                <span class="stat-label">Total</span>
                            </div>
                            <div style="border-right: 1px solid #e0e0e0;"></div> <div>
                                <div class="stat-val text-success">@v.Upcoming</div>
                                <span class="stat-label">Upcoming</span>
                            </div>
                        </div>

                        <div class="mb-4">
                            <div class="util-label">
                                <span>Utilization Rate</span>
                                <span>0%</span>
                            </div>
                            <div class="progress-custom">
                                <div class="progress-bar bg-info" role="progressbar" style="width: 0%"></div>
                            </div>
                        </div>

                        <div class="action-buttons">
                            <a href="#" class="btn-view-schedule">
                                <i class="bi bi-calendar3 me-1"></i> View Schedule
                            </a>
                            <a asp-controller="Meetings" asp-action="MeetingsAddEdit" class="btn-main-schedule">
                                <i class="bi bi-plus-lg me-1"></i> Book
                            </a>
                        </div>
                    </div>

                </div>
            </div>
        </div>
    }
</div>

@section Scripts {
    <script>
        document.getElementById("venueSearch").addEventListener("keyup", function () {
            let value = this.value.toLowerCase();
            document.querySelectorAll(".venue-item").forEach(item => {
                let name = item.querySelector(".venue-title").innerText.toLowerCase();
                if (name.includes(value)) {
                    item.style.display = "";
                } else {
                    item.style.display = "none";
                }
            });
        });
    </script>
}